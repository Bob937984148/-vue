{"remainingRequest":"d:\\yy0\\vue_apptower\\node_modules\\babel-loader\\lib\\index.js!d:\\yy0\\vue_apptower\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!d:\\yy0\\vue_apptower\\src\\components\\ShopList.vue?vue&type=script&lang=js","dependencies":[{"path":"d:\\yy0\\vue_apptower\\src\\components\\ShopList.vue","mtime":1548076340355},{"path":"d:\\yy0\\vue_apptower\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1534853416000},{"path":"d:\\yy0\\vue_apptower\\node_modules\\babel-loader\\lib\\index.js","mtime":1529635966000},{"path":"d:\\yy0\\vue_apptower\\node_modules\\vue-loader\\lib\\index.js","mtime":1527860006000}],"contextDependencies":[],"result":["import \"core-js/modules/es7.symbol.async-iterator\";\nimport \"core-js/modules/es6.symbol\";\nimport \"core-js/modules/web.dom.iterable\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//练习1:创建元素\n//练习2:发送请求获取购物车列表中数据\n//练习3:小计\nexport default {\n  created: function created() {\n    this.shopList();\n    console.log(this.$route.params.age);\n  },\n  computed: {\n    getSubTotal: function getSubTotal() {\n      //累加求和购物车所有商品\n      var sum = 0;\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = this.list[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var item = _step.value;\n          sum += item.price * item.count;\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return != null) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n\n      return sum;\n    }\n  },\n  data: function data() {\n    return {\n      list: [],\n      hasshow1: true,\n      hasshow2: false,\n      hasshow3: false,\n      line1: false,\n      line2: false,\n      isShow: true\n    };\n  },\n  methods: {\n    toggle: function toggle(res) {\n      this.hasshow1 = false;\n      this.hasshow2 = false;\n      this.hasshow3 = false;\n      this.line1 = false;\n      this.line2 = false;\n\n      if (res == 1) {\n        this.hasshow1 = true;\n      } else if (res == 2) {\n        this.line1 = true;\n        this.hasshow2 = true;\n      } else if (res == 3) {\n        this.line2 = true;\n        this.hasshow3 = true;\n      }\n    },\n    updateItemCount: function updateItemCount(id, count) {\n      //同步购物车数量\n      //id  购物车id\n      //count 购物车中数量\n      var url = \"http://127.0.0.1:3000/updateCart?id=\" + id + \"&count=\" + count;\n      this.axios.get(url).then(function (result) {\n        console.log(result);\n      });\n    },\n    cartSub: function cartSub(e) {\n      var id = e.target.dataset.id;\n      var _iteratorNormalCompletion2 = true;\n      var _didIteratorError2 = false;\n      var _iteratorError2 = undefined;\n\n      try {\n        for (var _iterator2 = this.list[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n          var item = _step2.value;\n\n          if (item.id == id && item.count > 1) {\n            item.count--; //同步数据\n\n            this.updateItemCount(item.id, item.count);\n            break;\n          }\n        }\n      } catch (err) {\n        _didIteratorError2 = true;\n        _iteratorError2 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion2 && _iterator2.return != null) {\n            _iterator2.return();\n          }\n        } finally {\n          if (_didIteratorError2) {\n            throw _iteratorError2;\n          }\n        }\n      }\n    },\n    cartAdd: function cartAdd(e) {\n      //1:获取当前按钮绑定购物车id\n      var id = e.target.dataset.id; //2:创建循环购物车数组内容\n\n      var _iteratorNormalCompletion3 = true;\n      var _didIteratorError3 = false;\n      var _iteratorError3 = undefined;\n\n      try {\n        for (var _iterator3 = this.list[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n          var item = _step3.value;\n\n          //3:判断当前元素id是否与元素id\n          if (item.id == id) {\n            //4:修改数据\n            item.count++;\n            this.updateItemCount(item.id, item.count);\n            break;\n          }\n        }\n      } catch (err) {\n        _didIteratorError3 = true;\n        _iteratorError3 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion3 && _iterator3.return != null) {\n            _iterator3.return();\n          }\n        } finally {\n          if (_didIteratorError3) {\n            throw _iteratorError3;\n          }\n        }\n      }\n    },\n    shopList: function shopList() {\n      var _this = this;\n\n      for (var i = 1; i < 3; i++) {\n        var url = \"http://127.0.0.1:3000/home?id=\".concat(i);\n        this.axios.get(url).then(function (result) {\n          // console.log(result.data);\n          _this.list.push(result.data);\n        });\n      }\n    }\n  }\n};",{"version":3,"sources":["ShopList.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n   <div class=\"shop\">\r\n     <div class=\"shop-header\">\r\n       <div class=\"shop-title\">\r\n         订单\r\n       </div>\r\n       <div class=\"email\">\r\n         <a href=\"javascript:;\"></a>\r\n       </div>\r\n       <div class=\"tabs\" >\r\n         <a class=\"item\" @click=\"toggle(1)\" :class=\"{'on':hasshow1}\" href=\"javasprit:;\">全部</a>\r\n         <a class=\"item\" @click=\"toggle(2)\" :class=\"{'on':hasshow2}\" href=\"javasprit:;\">代付款</a>\r\n         <a class=\"item\" @click=\"toggle(3)\" :class=\"{'on':hasshow3}\" href=\"javasprit:;\">已取消</a>\r\n         <span class=\"line\" :class=\"{'lineO1':line1,'lineO2':line2}\"></span>\r\n       </div>\r\n     </div>\r\n    <div class=\"wrapper\" v-if=\"isShow\" v-for=\"item in list\" :key=\"item.user_id\">\r\n          <div class=\"hd\">\r\n            <span class=\"level\">{{item[0].lv}}级</span>\r\n            <span class=\"platform\">{{item[0].site}}\r\n              <i class=\"icon-ios\"></i>\r\n              <i class=\"icon-pub\"></i>\r\n            </span>\r\n            <span class=\"price\">￥{{item[0].price}}</span>\r\n          </div>\r\n          <div class=\"intro\">\r\n            <ul class=\"base\">\r\n              <li>SSR 43</li>\r\n              <li>六星式神 19</li>\r\n              <li>签到{{item[0].days}}天</li>\r\n            </ul>\r\n            <div class=\"collect\">0人收藏</div>\r\n          </div>\r\n          <div class=\"start\">\r\n            <span>六星SSR21个</span>\r\n            <span>斗技2553</span>\r\n          </div>\r\n          <ul class=\"hero-item\">\r\n            <li>\r\n              <div class=\"frame\">\r\n                <div class=wrap>\r\n                  <img :src=\"'http://127.0.0.1:3000/img'+item[0].src\" alt=\"\">\r\n                  <span class=\"font_small1\"></span>\r\n                  <p>满</p>\r\n                  <span class=\"font_small2\">觉</span>\r\n                  <span class=\"leave_icons\">\r\n                    <i></i>\r\n                    <i></i>\r\n                    <i></i>\r\n                    <i></i>\r\n                    <i></i>\r\n                    <i></i>\r\n                  </span>\r\n                </div>\r\n                <div class=\"name\">{{item[0].name}}</div>\r\n              </div>\r\n            </li>\r\n            <li>\r\n              <div class=\"frame\">\r\n                <div class=wrap>\r\n                  <img :src=\"'http://127.0.0.1:3000/img'+item[1].src\" alt=\"\">\r\n                  <span class=\"font_small1\"></span>\r\n                  <p>满</p>\r\n                  <span class=\"font_small2\">觉</span>\r\n                  <span class=\"leave_icons\">\r\n                    <i></i>\r\n                    <i></i>\r\n                    <i></i>\r\n                    <i></i>\r\n                    <i></i>\r\n                    <i></i>\r\n                  </span>\r\n                </div>\r\n                <div class=\"name\">{{item[1].name}}</div>\r\n              </div>\r\n            </li>\r\n            <li>\r\n              <div class=\"frame\">\r\n                <div class=wrap>\r\n                 <img :src=\"'http://127.0.0.1:3000/img'+item[2].src\" alt=\"\">\r\n                  <span class=\"font_small1\"></span>\r\n                  <p>满</p>\r\n                  <span class=\"font_small2\">觉</span>\r\n                  <span class=\"leave_icons\">\r\n                    <i></i>\r\n                    <i></i>\r\n                    <i></i>\r\n                    <i></i>\r\n                    <i></i>\r\n                    <i></i>\r\n                  </span>\r\n                </div>\r\n                <div class=\"name\">{{item[2].name}}</div>\r\n              </div>\r\n            </li>\r\n            <li>\r\n              <div class=\"frame\">\r\n                <div class=wrap>\r\n                  <img :src=\"'http://127.0.0.1:3000/img'+item[3].src\" alt=\"\">\r\n                  <span class=\"font_small1\"></span>\r\n                  <p>满</p>\r\n                  <span class=\"font_small2\">觉</span>\r\n                  <span class=\"leave_icons\">\r\n                    <i></i>\r\n                    <i></i>\r\n                    <i></i>\r\n                    <i></i>\r\n                    <i></i>\r\n                    <i></i>\r\n                  </span>\r\n                </div>\r\n                <div class=\"name\">{{item[3].name}}</div>\r\n              </div>\r\n            </li>\r\n            <li>\r\n              <div class=\"frame\">\r\n                <div class=wrap>\r\n                  <img :src=\"'http://127.0.0.1:3000/img'+item[4].src\" alt=\"\">\r\n                  <span class=\"font_small1\"></span>\r\n                  <p>满</p>\r\n                  <span class=\"font_small2\">觉</span>\r\n                  <span class=\"leave_icons\">\r\n                    <i></i>\r\n                    <i></i>\r\n                    <i></i>\r\n                    <i></i>\r\n                    <i></i>\r\n                    <i></i>\r\n                  </span>\r\n                </div>\r\n                <div class=\"name\">{{item[4].name}}</div>\r\n              </div>\r\n            </li>\r\n          </ul>\r\n    </div>\r\n    <div class=\"spinner\">\r\n      <i class=\"icon-empty\"></i>\r\n      <div class=\"empty-text\">目前没有任何订单哦</div>\r\n    </div>\r\n\r\n\r\n   </div>\r\n</template>\r\n<script>\r\n   //练习1:创建元素\r\n   //练习2:发送请求获取购物车列表中数据\r\n   //练习3:小计\r\n  export default {\r\n    created() {\r\n      this.shopList();\r\n      console.log(this.$route.params.age)\r\n    },\r\n    computed:{\r\n      getSubTotal:function(){\r\n        //累加求和购物车所有商品\r\n        var sum=0;\r\n        for(var item of this.list){\r\n          sum+=item.price*item.count;\r\n        }\r\n        return sum;\r\n      }\r\n    },\r\n    data(){\r\n      return {\r\n        list:[],\r\n        hasshow1:true,\r\n        hasshow2:false,\r\n        hasshow3:false,\r\n        line1:false,\r\n        line2:false,\r\n        isShow:true\r\n      }\r\n    },\r\n    methods:{\r\n      toggle(res){\r\n        this.hasshow1=false;\r\n        this.hasshow2=false;\r\n        this.hasshow3=false;\r\n        this.line1=false;\r\n        this.line2=false;   \r\n       if(res==1){\r\n         this.hasshow1=true\r\n       }else if(res==2){\r\n        this.line1=true;\r\n        this.hasshow2=true\r\n       }else if(res==3){\r\n         this.line2=true\r\n         this.hasshow3=true\r\n       }\r\n      },\r\n\t\t\tupdateItemCount(id,count){\r\n\t\t\t\t//同步购物车数量\r\n\t\t\t\t//id  购物车id\r\n\t\t\t\t//count 购物车中数量\r\n\t\t\t\tvar url=\"http://127.0.0.1:3000/updateCart?id=\"+id+\"&count=\"+count;\r\n\t\t\t\tthis.axios.get(url).then(result=>{\r\n\t\t\t\t\tconsole.log(result);\r\n\t\t\t\t})\r\n\t\t\t},\r\n      cartSub(e){\r\n\t\t\t\tvar id=e.target.dataset.id;\r\n\t\t\t\tfor(var item of this.list){\r\n\t\t\t\t\tif(item.id== id && item.count>1){\r\n\t\t\t\t\t\titem.count--;\r\n\t\t\t\t\t\t//同步数据\r\n\t\t\t\t\t\tthis.updateItemCount(item.id,item.count);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n      },\r\n      cartAdd(e){\r\n        //1:获取当前按钮绑定购物车id\r\n        var id = e.target.dataset.id\r\n        //2:创建循环购物车数组内容\r\n        for(var item of this.list){\r\n        //3:判断当前元素id是否与元素id\r\n          if(item.id == id){\r\n            //4:修改数据\r\n\t\t\t\t\t\titem.count++;\r\n\t\t\t\t\t\tthis.updateItemCount(item.id,item.count);\r\n            break;\r\n          }\r\n        }\r\n      },\r\n      shopList(){\r\n        for(var i=1;i<3;i++){\r\n        var url = `http://127.0.0.1:3000/home?id=${i}`;\r\n        this.axios.get(url).then(result=>{\r\n        // console.log(result.data);\r\n        this.list.push(result.data);\r\n         })\r\n       }\r\n      }\r\n    }\r\n  }  \r\n</script>\r\n<style> \r\n  /* .search-f{display: none} */\r\n  .shop-header{\r\n    background:#fff;\r\n    position:relative\r\n    }\r\n  .shop-title{\r\n    font-size: 22px;\r\n    text-align: center;\r\n    font-weight: 700;\r\n    padding-top:20px;\r\n  }\r\n  .email{\r\n    background-image: url(\"../img/email.svg\")\r\n  }\r\n  .line{\r\n    background: #e74e4b;\r\n    border-radius: 25%;\r\n    position: absolute;\r\n    left:95px;bottom:5px;\r\n    width:25px;height:4px;\r\n    transition:left .5s;\r\n  }\r\n  .lineO1{\r\n    position: absolute;\r\n    left:326px;bottom:5px !important;\r\n    transition:left .5s;\r\n  }\r\n  .lineO2{\r\n    position: absolute;\r\n    left:566px;bottom:5px !important;\r\n    transition:left .5s;\r\n  }\r\n  .tabs{padding-top:60px;padding-bottom:15px;}\r\n  .tabs .item{\r\n    margin-left:90px;\r\n    margin-right:90px;\r\n    color: #888;\r\n    font-size:20px;\r\n    }\r\n  .on{\r\n    font-weight: 700;\r\n    color: #1e1e1e !important;\r\n  }\r\n  .wrapper{\r\n    width:750px;\r\n    margin-top:8px;\r\n    position:absolute;\r\n    left:426px;top:132px;\r\n    display: none\r\n  }\r\n  .hd{\r\n    padding-top:10px;\r\n  }\r\n.icon-empty{\r\n  width:208px;height: 152px;\r\n  position:absolute;\r\n  left:338px;top:296px;\r\n  background-image: url(\"../img/icon-empty.png\");\r\n  background-size: 100% 100%;\r\n}\r\n.empty-text{\r\n  font-size: 20px;\r\n  color: #888;\r\n  margin-top:310px;\r\n  text-align: center;\r\n}\r\n</style>"],"sourceRoot":"src\\components"}]}